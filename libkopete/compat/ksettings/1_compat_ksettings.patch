Index: dialog.cpp
===================================================================
RCS file: /home/kde/kdenetwork/kopete/libkopete/compat/ksettings/dialog.cpp,v
retrieving revision 1.1
diff -u -p -r1.1 dialog.cpp
--- dialog.cpp	3 Sep 2003 08:50:34 -0000	1.1
+++ dialog.cpp	7 Sep 2003 11:05:56 -0000
@@ -33,6 +33,8 @@
 #include "ksettings/dispatcher.h"
 #include "ksettings/componentsdialog.h"
 
+#include <kdeversion.h>
+
 namespace KSettings
 {
 
@@ -277,9 +274,11 @@ void Dialog::createDialogFromServices()
	// touch the plugin selections.
	// I have no idea how to check that in KPluginSelector::load()...
	//d->dlg->showButton( KDialogBase::User1, true );
+#if KDE_IS_VERSION( 3, 1, 90 )
 	if( ! d->staticlistview )
 		d->dlg->addButtonBelowList( i18n( "Configure..." ), this,
 			SLOT( configureTree() ) );
+#endif
 
 	connect( d->dlg, SIGNAL( okClicked() ), Dispatcher::self(), SLOT( syncConfiguration() ) );
 	connect( d->dlg, SIGNAL( applyClicked() ), Dispatcher::self(), SLOT( syncConfiguration() ) );
@@ -288,8 +283,10 @@ void Dialog::createDialogFromServices()
 		d->dlg->addModule( *info );
 	}
 
+#if KDE_IS_VERSION( 3, 1, 90 )
 	if( d->groupmap.size() > 1 )
 		d->dlg->unfoldTreeList( true );
+#endif
 }
 
 void Dialog::configureTree()
